(()=>{"use strict";const e={shuffle:function(e){return e.sort((function(){return Math.random()-.5}))},generateOrderNumbers:function(e){return Array.from({length:e},(function(e,t){return t+1}))},pickRandomNumbers:function(e,t){var n=this.generateOrderNumbers(e);return this.shuffle(n).slice(0,t)}};var t=function(e){return function(e){return Number.isInteger(e)}(e)&&e>0};function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function i(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}function u(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,a(e,t,"get"))}function a(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var c=new WeakMap,l=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i={writable:!0,value:[]},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(n=this,r=c),r.set(n,i),!e.isValidLottoNumbers(t))throw new Error(e.ERROR_INVALID);var n,r,i;if(e.isDuplicateNumbers(t))throw new Error(e.ERROR_DUPLICATE);!function(e,t,n){(function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}})(e,a(e,t,"set"),n)}(this,c,t.sort((function(e,t){return e-t})))}var n,i,o;return n=e,o=[{key:"isValidLottoNumberRange",value:function(e){return e>=1&&e<=45}},{key:"isValidLottoNumber",value:function(n){return t(n)&&e.isValidLottoNumberRange(n)}},{key:"isDuplicateNumbers",value:function(e){return 6!==new Set(e).size||6!==e.length}},{key:"isValidLottoNumbers",value:function(t){return t.every(e.isValidLottoNumber)}}],(i=[{key:"getNumbers",value:function(){return u(this,c)}},{key:"hasBonus",value:function(e){return u(this,c).includes(e)}},{key:"countMatch",value:function(e){return u(this,c).filter((function(t){return u(e,c).includes(t)})).length}}])&&r(n.prototype,i),o&&r(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();i(l,"ERROR_INVALID","잘못된 입력입니다."),i(l,"ERROR_DUPLICATE","중복된 입력입니다.");const f=l;var s={PRIZE:{FIRST:{MATCH_COUNT:6,RANK:1},SECOND:{MATCH_COUNT:5,RANK:2},THIRD:{MATCH_COUNT:5,RANK:3},FOURTH:{MATCH_COUNT:4,RANK:4},FIFTH:{MATCH_COUNT:3,RANK:5},MISS:{RANK:0}},getWinRank:function(e,t){return e===s.PRIZE.THIRD.MATCH_COUNT?t?s.PRIZE.SECOND.RANK:s.PRIZE.THIRD.RANK:e<s.PRIZE.FIFTH.MATCH_COUNT?s.PRIZE.MISS.RANK:this.findWinRank(e)},findWinRank:function(e){return Object.values(s.PRIZE).find((function(t){return t.MATCH_COUNT===e})).RANK}};const y=s;function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function m(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function p(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===v(t)?t:String(t)}function h(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,R(e,t,"get"))}function w(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,R(e,t,"set"),n),n}function R(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var g=new WeakMap,E=new WeakMap,T=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,g,{writable:!0,value:void 0}),m(this,E,{writable:!0,value:void 0}),w(this,g,t)}var t,n;return t=e,(n=[{key:"setBonusNumber",value:function(t){if(!f.isValidLottoNumber(t))throw new Error(e.ERROR_INVALID);if(this.isDuplicateBonus(t))throw new Error(e.ERROR_DUPLICATE);w(this,E,t)}},{key:"isDuplicateBonus",value:function(e){return h(this,g).hasBonus(e)}},{key:"getWinRank",value:function(e){var t=e.countMatch(h(this,g)),n=e.hasBonus(h(this,E));return y.getWinRank(t,n)}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();p(T,"ERROR_INVALID","잘못된 입력입니다."),p(T,"ERROR_DUPLICATE","보너스 번호는 당첨 번호와 중복될 수 없습니다.");const N=T;function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,I(r.key),r)}}function C(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function k(e,t,n){return(t=I(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===S(t)?t:String(t)}function A(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,L(e,t,"get"))}function P(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,L(e,t,"set"),n),n}function L(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var _=new WeakMap,M=new WeakMap,j=new WeakMap,D=function(){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),C(this,_,{writable:!0,value:void 0}),C(this,M,{writable:!0,value:void 0}),C(this,j,{writable:!0,value:{0:0,1:0,2:0,3:0,4:0,5:0}}),P(this,_,this.generateLottos(e))}var r,i;return r=n,(i=[{key:"calcLottoAmount",value:function(e){var r=e/n.LOTTO_COST;if(!t(r))throw new Error(n.INVALID_AMOUNT_ERROR);return r}},{key:"generateLottos",value:function(t){var n=this.calcLottoAmount(t);return Array.from({length:n},(function(){return new f(e.pickRandomNumbers(45,6))}))}},{key:"generateWinningLotto",value:function(e){var t=new f(e);P(this,M,new N(t))}},{key:"setBonusNumber",value:function(e){A(this,M).setBonusNumber(e)}},{key:"getLottoNumbers",value:function(){return A(this,_).map((function(e){return e.getNumbers()}))}},{key:"getPrizes",value:function(){var e=this;return A(this,_).map((function(t){return A(e,M).getWinRank(t)}))}},{key:"addWinCount",value:function(e){var t=this;e.forEach((function(e){A(t,j)[e]+=1}))}},{key:"calcStatstics",value:function(){var e=this.getPrizes();this.addWinCount(e);var t=this.calcProfitRate(e);return{winCount:A(this,j),profitRate:t,winPrizeMoney:n.WIN_PRIZE_MONEY}}},{key:"calcProfitRate",value:function(e){return e.reduce((function(e,t){return e+n.WIN_PRIZE_MONEY[t]}),0)/(A(this,_).length*n.LOTTO_COST)}}])&&O(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),n}();k(D,"LOTTO_COST",1e3),k(D,"WIN_PRIZE_MONEY",{0:0,1:2e9,2:3e7,3:15e5,4:5e4,5:5e3}),k(D,"INVALID_AMOUNT_ERROR","유효하지 않은 금액입니다.");const W=D;var U,q=document.querySelector(".result-btn"),H=document.querySelector(".payments-container"),V=document.querySelector(".lottos-container"),K=document.querySelector(".buy-btn"),Z=document.querySelector(".payments-input"),B=document.querySelector(".winning-lotto-container");K.addEventListener("click",(function(){var e=Z.value;(function(e){var t,n;t=e.length,(n=document.createElement("p")).innerText="총 ".concat(t,"개를 구매했습니다."),H.appendChild(n),e.forEach((function(e){var t=document.createElement("div"),n=document.createElement("p"),r="🎫 ".concat(e.join(", "));n.innerText=r,t.appendChild(n),V.appendChild(t)}))})((U=new W(e)).getLottoNumbers()),K.disabled=!0,q.disabled=!1,B.style.visibility="visible"}));var z=document.querySelector(".winning-numbers").querySelectorAll(".winning-number-input"),F=document.querySelector(".bonus-number-input"),x=document.querySelector(".modal"),Y=x.querySelector(".modal-close-btn"),G=x.querySelector("table"),J=x.querySelector("tbody");q.addEventListener("click",(function(){q.disabled=!0;var e=Array.from(z,(function(e){return+e.value}));U.generateWinningLotto(e);var t=+F.value;U.setBonusNumber(t),x.style.visibility="visible",function(e){for(var t=e.winCount,n=e.profitRate,r=J.querySelectorAll("tr"),i=0;i<5;i++){var o=document.createElement("td");o.innerText="".concat(t[i+1],"개"),r[i].appendChild(o)}var u=document.createElement("p");u.innerText="당신의 총 수익률은".concat(n.toFixed(2),"% 입니다."),G.appendChild(u)}(U.calcStatstics())})),Y.addEventListener("click",(function(){x.style.visibility="hidden"}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RVEsS0FBSyxJQUN0RW9FLEVBQWFpQyxxQkFBcUJELEdBRWxDLElBQU03RCxHQUFld0QsRUFBaUIvRixNQUN0Q29FLEVBQWFoQixlQUFlYixHQUM1QnlELEVBQU1MLE1BQU1DLFdBQWEsVUFyQlQsU0FBSCxHQUdiLElBSDhDLElBQTNCOUIsRUFBUSxFQUFSQSxTQUFVRixFQUFVLEVBQVZBLFdBQ3ZCMEMsRUFBWUgsRUFBZ0JMLGlCQUFpQixNQUUxQ3JHLEVBQUksRUFBR0EsRUFBSSxFQUFHQSxJQUFLLENBQzFCLElBQU04RyxFQUFLakMsU0FBU1UsY0FBYyxNQUNsQ3VCLEVBQUd0QixVQUFZLEdBQUgsT0FBTW5CLEVBQVNyRSxFQUFJLEdBQUUsS0FDakM2RyxFQUFVN0csR0FBR3lGLFlBQVlxQixFQUMzQixDQUNBLElBQU1DLEVBQW1CbEMsU0FBU1UsY0FBYyxLQUNoRHdCLEVBQWlCdkIsVUFBWSxhQUFILE9BQWdCckIsRUFBVzZDLFFBQVEsR0FBRSxVQUMvRFAsRUFBWWhCLFlBQVlzQixFQUMxQixDQVdFRSxDQUFVdEMsRUFBYXVDLGdCQUN6QixJQUVBVixFQUFjcEIsaUJBQWlCLFNBQVMsV0FDdENtQixFQUFNTCxNQUFNQyxXQUFhLFFBQzNCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qYXZhc2NyaXB0LWxvdHRvLy4vc3JjL1JhbmRvbUdlbmVyYXRvci5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LWxvdHRvLy4vc3JjL3V0aWwvY29uc3RhbnRzLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtbG90dG8vLi9zcmMvdmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LWxvdHRvLy4vc3JjL2RvbWFpbi9Mb3R0by5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LWxvdHRvLy4vc3JjL2RvbWFpbi9Mb3R0b1JhbmsuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1sb3R0by8uL3NyYy9kb21haW4vV2lubmluZ0xvdHRvLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtbG90dG8vLi9zcmMvZG9tYWluL0xvdHRvTWFjaGluZS5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LWxvdHRvLy4vc3JjL3N0ZXAyLWluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFJhbmRvbUdlbmVyYXRvciA9IHtcbiAgc2h1ZmZsZShhcnIpIHtcbiAgICByZXR1cm4gYXJyLnNvcnQoKCkgPT4gTWF0aC5yYW5kb20oKSAtIDAuNSk7XG4gIH0sXG5cbiAgZ2VuZXJhdGVPcmRlck51bWJlcnMoZW5kTnVtYmVyKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGg6IGVuZE51bWJlciB9LCAoXywgaSkgPT4gaSArIDEpO1xuICB9LFxuXG4gIHBpY2tSYW5kb21OdW1iZXJzKGVuZE51bWJlciwgc2l6ZSkge1xuICAgIGNvbnN0IG51bWJlcnMgPSB0aGlzLmdlbmVyYXRlT3JkZXJOdW1iZXJzKGVuZE51bWJlcik7XG4gICAgcmV0dXJuIHRoaXMuc2h1ZmZsZShudW1iZXJzKS5zbGljZSgwLCBzaXplKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJhbmRvbUdlbmVyYXRvcjtcbiIsImV4cG9ydCBjb25zdCBMT1RUT19OVU1CRVJfU0laRSA9IDY7XG5leHBvcnQgY29uc3QgTE9UVE9fTlVNQkVSX1JBTkdFX01JTiA9IDE7XG5leHBvcnQgY29uc3QgTE9UVE9fTlVNQkVSX1JBTkdFX01BWCA9IDQ1O1xuZXhwb3J0IGNvbnN0IFJFU1RBUlRfQ09NTUFORCA9ICd5JztcbmV4cG9ydCBjb25zdCBFWElUX0NPTU1BTkQgPSAnbic7XG4iLCJjb25zdCBpc0ludGVnZXIgPSAodmFsdWUpID0+IE51bWJlci5pc0ludGVnZXIodmFsdWUpO1xuY29uc3QgaXNQb3NpdGl2ZU51bWJlciA9IChudW1iZXIpID0+IG51bWJlciA+IDA7XG5cbmV4cG9ydCBjb25zdCBpc1Bvc2l0aXZlSW50ZWdlciA9ICh2YWx1ZSkgPT4gaXNJbnRlZ2VyKHZhbHVlKSAmJiBpc1Bvc2l0aXZlTnVtYmVyKHZhbHVlKTtcblxuZXhwb3J0IGNvbnN0IGlzVmFsaWRSZXN0YXJ0Q29tbWFuZCA9IChjb21tYW5kKSA9PiBjb21tYW5kID09PSAneScgfHwgY29tbWFuZCA9PT0gJ24nO1xuIiwiaW1wb3J0IHsgaXNQb3NpdGl2ZUludGVnZXIgfSBmcm9tICcuLi92YWxpZGF0aW9uJztcbmltcG9ydCB7XG4gIExPVFRPX05VTUJFUl9TSVpFLFxuICBMT1RUT19OVU1CRVJfUkFOR0VfTUlOLFxuICBMT1RUT19OVU1CRVJfUkFOR0VfTUFYLFxufSBmcm9tICcuLi91dGlsL2NvbnN0YW50cyc7XG5cbmNsYXNzIExvdHRvIHtcbiAgc3RhdGljIEVSUk9SX0lOVkFMSUQgPSAn7J6Y66q765CcIOyeheugpeyeheuLiOuLpC4nO1xuICBzdGF0aWMgRVJST1JfRFVQTElDQVRFID0gJ+ykkeuzteuQnCDsnoXroKXsnoXri4jri6QuJztcblxuICAjbnVtYmVycyA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKG51bWJlcnMpIHtcbiAgICBpZiAoIUxvdHRvLmlzVmFsaWRMb3R0b051bWJlcnMobnVtYmVycykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihMb3R0by5FUlJPUl9JTlZBTElEKTtcbiAgICB9XG4gICAgaWYgKExvdHRvLmlzRHVwbGljYXRlTnVtYmVycyhudW1iZXJzKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKExvdHRvLkVSUk9SX0RVUExJQ0FURSk7XG4gICAgfVxuXG4gICAgdGhpcy4jbnVtYmVycyA9IG51bWJlcnMuc29ydCgoYSwgYikgPT4gYSAtIGIpO1xuICB9XG5cbiAgc3RhdGljIGlzVmFsaWRMb3R0b051bWJlclJhbmdlKG51bWJlcikge1xuICAgIHJldHVybiBudW1iZXIgPj0gTE9UVE9fTlVNQkVSX1JBTkdFX01JTiAmJiBudW1iZXIgPD0gTE9UVE9fTlVNQkVSX1JBTkdFX01BWDtcbiAgfVxuXG4gIHN0YXRpYyBpc1ZhbGlkTG90dG9OdW1iZXIobnVtYmVyKSB7XG4gICAgcmV0dXJuIGlzUG9zaXRpdmVJbnRlZ2VyKG51bWJlcikgJiYgTG90dG8uaXNWYWxpZExvdHRvTnVtYmVyUmFuZ2UobnVtYmVyKTtcbiAgfVxuXG4gIHN0YXRpYyBpc0R1cGxpY2F0ZU51bWJlcnMobnVtYmVycykge1xuICAgIHJldHVybiBuZXcgU2V0KG51bWJlcnMpLnNpemUgIT09IExPVFRPX05VTUJFUl9TSVpFIHx8IG51bWJlcnMubGVuZ3RoICE9PSBMT1RUT19OVU1CRVJfU0laRTtcbiAgfVxuXG4gIHN0YXRpYyBpc1ZhbGlkTG90dG9OdW1iZXJzKG51bWJlcnMpIHtcbiAgICByZXR1cm4gbnVtYmVycy5ldmVyeShMb3R0by5pc1ZhbGlkTG90dG9OdW1iZXIpO1xuICB9XG5cbiAgZ2V0TnVtYmVycygpIHtcbiAgICByZXR1cm4gdGhpcy4jbnVtYmVycztcbiAgfVxuXG4gIGhhc0JvbnVzKGJvbnVzQmFsbCkge1xuICAgIHJldHVybiB0aGlzLiNudW1iZXJzLmluY2x1ZGVzKGJvbnVzQmFsbCk7XG4gIH1cblxuICBjb3VudE1hdGNoKG90aGVyKSB7XG4gICAgY29uc3QgbWF0Y2hOdW1iZXJzID0gdGhpcy4jbnVtYmVycy5maWx0ZXIoKG51bWJlcikgPT4ge1xuICAgICAgcmV0dXJuIG90aGVyLiNudW1iZXJzLmluY2x1ZGVzKG51bWJlcik7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbWF0Y2hOdW1iZXJzLmxlbmd0aDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMb3R0bztcbiIsImNvbnN0IExvdHRvUmFuayA9IHtcbiAgUFJJWkU6IHtcbiAgICBGSVJTVDogeyBNQVRDSF9DT1VOVDogNiwgUkFOSzogMSB9LFxuICAgIFNFQ09ORDogeyBNQVRDSF9DT1VOVDogNSwgUkFOSzogMiB9LFxuICAgIFRISVJEOiB7IE1BVENIX0NPVU5UOiA1LCBSQU5LOiAzIH0sXG4gICAgRk9VUlRIOiB7IE1BVENIX0NPVU5UOiA0LCBSQU5LOiA0IH0sXG4gICAgRklGVEg6IHsgTUFUQ0hfQ09VTlQ6IDMsIFJBTks6IDUgfSxcbiAgICBNSVNTOiB7IFJBTks6IDAgfSxcbiAgfSxcblxuICBnZXRXaW5SYW5rKG1hdGNoQ291bnQsIGhhc0JvbnVzKSB7XG4gICAgaWYgKG1hdGNoQ291bnQgPT09IExvdHRvUmFuay5QUklaRS5USElSRC5NQVRDSF9DT1VOVCkge1xuICAgICAgcmV0dXJuIGhhc0JvbnVzID8gTG90dG9SYW5rLlBSSVpFLlNFQ09ORC5SQU5LIDogTG90dG9SYW5rLlBSSVpFLlRISVJELlJBTks7XG4gICAgfVxuICAgIGlmIChtYXRjaENvdW50IDwgTG90dG9SYW5rLlBSSVpFLkZJRlRILk1BVENIX0NPVU5UKSB7XG4gICAgICByZXR1cm4gTG90dG9SYW5rLlBSSVpFLk1JU1MuUkFOSztcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZmluZFdpblJhbmsobWF0Y2hDb3VudCk7XG4gIH0sXG5cbiAgZmluZFdpblJhbmsobWF0Y2hDb3VudCkge1xuICAgIHJldHVybiBPYmplY3QudmFsdWVzKExvdHRvUmFuay5QUklaRSkuZmluZCgoeyBNQVRDSF9DT1VOVCB9KSA9PiBNQVRDSF9DT1VOVCA9PT0gbWF0Y2hDb3VudClcbiAgICAgIC5SQU5LO1xuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgTG90dG9SYW5rO1xuIiwiaW1wb3J0IExvdHRvIGZyb20gJy4vTG90dG8nO1xuaW1wb3J0IExvdHRvUmFuayBmcm9tICcuL0xvdHRvUmFuayc7XG5cbmNsYXNzIFdpbm5pbmdMb3R0byB7XG4gIHN0YXRpYyBFUlJPUl9JTlZBTElEID0gJ+yemOuqu+uQnCDsnoXroKXsnoXri4jri6QuJztcbiAgc3RhdGljIEVSUk9SX0RVUExJQ0FURSA9ICfrs7TrhIjsiqQg67KI7Zi464qUIOuLueyyqCDrsojtmLjsmYAg7KSR67O165CgIOyImCDsl4bsirXri4jri6QuJztcblxuICAjbG90dG87XG4gICNib251c051bWJlcjtcblxuICBjb25zdHJ1Y3Rvcihsb3R0bykge1xuICAgIHRoaXMuI2xvdHRvID0gbG90dG87XG4gIH1cblxuICBzZXRCb251c051bWJlcihib251c051bWJlcikge1xuICAgIGlmICghTG90dG8uaXNWYWxpZExvdHRvTnVtYmVyKGJvbnVzTnVtYmVyKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFdpbm5pbmdMb3R0by5FUlJPUl9JTlZBTElEKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNEdXBsaWNhdGVCb251cyhib251c051bWJlcikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihXaW5uaW5nTG90dG8uRVJST1JfRFVQTElDQVRFKTtcbiAgICB9XG4gICAgdGhpcy4jYm9udXNOdW1iZXIgPSBib251c051bWJlcjtcbiAgfVxuXG4gIGlzRHVwbGljYXRlQm9udXMoYm9udXNOdW1iZXIpIHtcbiAgICByZXR1cm4gdGhpcy4jbG90dG8uaGFzQm9udXMoYm9udXNOdW1iZXIpO1xuICB9XG5cbiAgZ2V0V2luUmFuayhsb3R0bykge1xuICAgIGNvbnN0IG1hdGNoQ291bnQgPSBsb3R0by5jb3VudE1hdGNoKHRoaXMuI2xvdHRvKTtcbiAgICBjb25zdCBoYXNCb251cyA9IGxvdHRvLmhhc0JvbnVzKHRoaXMuI2JvbnVzTnVtYmVyKTtcblxuICAgIHJldHVybiBMb3R0b1JhbmsuZ2V0V2luUmFuayhtYXRjaENvdW50LCBoYXNCb251cyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgV2lubmluZ0xvdHRvO1xuIiwiaW1wb3J0IFJhbmRvbUdlbmVyYXRvciBmcm9tICcuLi9SYW5kb21HZW5lcmF0b3InO1xuaW1wb3J0IHsgTE9UVE9fTlVNQkVSX1JBTkdFX01BWCwgTE9UVE9fTlVNQkVSX1NJWkUgfSBmcm9tICcuLi91dGlsL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBpc1Bvc2l0aXZlSW50ZWdlciB9IGZyb20gJy4uL3ZhbGlkYXRpb24nO1xuaW1wb3J0IExvdHRvIGZyb20gJy4vTG90dG8nO1xuaW1wb3J0IFdpbm5pbmdMb3R0byBmcm9tICcuL1dpbm5pbmdMb3R0byc7XG5cbmNsYXNzIExvdHRvTWFjaGluZSB7XG4gIHN0YXRpYyBMT1RUT19DT1NUID0gMTAwMDtcbiAgc3RhdGljIFdJTl9QUklaRV9NT05FWSA9IHsgMDogMCwgMTogMjAwMDAwMDAwMCwgMjogMzAwMDAwMDAsIDM6IDE1MDAwMDAsIDQ6IDUwMDAwLCA1OiA1MDAwIH07XG4gIHN0YXRpYyBJTlZBTElEX0FNT1VOVF9FUlJPUiA9ICfsnKDtmqjtlZjsp4Ag7JWK7J2AIOq4iOyVoeyeheuLiOuLpC4nO1xuICAjbG90dG9zO1xuICAjd2lubmluZ0xvdHRvO1xuICAjd2luQ291bnQgPSB7XG4gICAgMDogMCxcbiAgICAxOiAwLFxuICAgIDI6IDAsXG4gICAgMzogMCxcbiAgICA0OiAwLFxuICAgIDU6IDAsXG4gIH07XG5cbiAgY29uc3RydWN0b3IobW9uZXkpIHtcbiAgICB0aGlzLiNsb3R0b3MgPSB0aGlzLmdlbmVyYXRlTG90dG9zKG1vbmV5KTtcbiAgfVxuXG4gIGNhbGNMb3R0b0Ftb3VudChtb25leSkge1xuICAgIGNvbnN0IGxvdHRvQW1vdW50ID0gbW9uZXkgLyBMb3R0b01hY2hpbmUuTE9UVE9fQ09TVDtcbiAgICBpZiAoIWlzUG9zaXRpdmVJbnRlZ2VyKGxvdHRvQW1vdW50KSkgdGhyb3cgbmV3IEVycm9yKExvdHRvTWFjaGluZS5JTlZBTElEX0FNT1VOVF9FUlJPUik7XG4gICAgcmV0dXJuIGxvdHRvQW1vdW50O1xuICB9XG5cbiAgZ2VuZXJhdGVMb3R0b3MobW9uZXkpIHtcbiAgICBjb25zdCBhbW91bnQgPSB0aGlzLmNhbGNMb3R0b0Ftb3VudChtb25leSk7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGg6IGFtb3VudCB9LCAoKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IExvdHRvKFxuICAgICAgICBSYW5kb21HZW5lcmF0b3IucGlja1JhbmRvbU51bWJlcnMoTE9UVE9fTlVNQkVSX1JBTkdFX01BWCwgTE9UVE9fTlVNQkVSX1NJWkUpLFxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdlbmVyYXRlV2lubmluZ0xvdHRvKGxvdHRvTnVtYmVycykge1xuICAgIGNvbnN0IGxvdHRvID0gbmV3IExvdHRvKGxvdHRvTnVtYmVycyk7XG4gICAgdGhpcy4jd2lubmluZ0xvdHRvID0gbmV3IFdpbm5pbmdMb3R0byhsb3R0byk7XG4gIH1cblxuICBzZXRCb251c051bWJlcihib251c051bWJlcikge1xuICAgIHRoaXMuI3dpbm5pbmdMb3R0by5zZXRCb251c051bWJlcihib251c051bWJlcik7XG4gIH1cblxuICBnZXRMb3R0b051bWJlcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuI2xvdHRvcy5tYXAoKGxvdHRvKSA9PiBsb3R0by5nZXROdW1iZXJzKCkpO1xuICB9XG5cbiAgZ2V0UHJpemVzKCkge1xuICAgIHJldHVybiB0aGlzLiNsb3R0b3MubWFwKChsb3R0bykgPT4gdGhpcy4jd2lubmluZ0xvdHRvLmdldFdpblJhbmsobG90dG8pKTtcbiAgfVxuXG4gIGFkZFdpbkNvdW50KHByaXplcykge1xuICAgIHByaXplcy5mb3JFYWNoKChwcml6ZSkgPT4ge1xuICAgICAgdGhpcy4jd2luQ291bnRbcHJpemVdICs9IDE7XG4gICAgfSk7XG4gIH1cblxuICBjYWxjU3RhdHN0aWNzKCkge1xuICAgIGNvbnN0IHByaXplcyA9IHRoaXMuZ2V0UHJpemVzKCk7XG4gICAgdGhpcy5hZGRXaW5Db3VudChwcml6ZXMpO1xuICAgIGNvbnN0IHByb2ZpdFJhdGUgPSB0aGlzLmNhbGNQcm9maXRSYXRlKHByaXplcyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdpbkNvdW50OiB0aGlzLiN3aW5Db3VudCxcbiAgICAgIHByb2ZpdFJhdGUsXG4gICAgICB3aW5Qcml6ZU1vbmV5OiBMb3R0b01hY2hpbmUuV0lOX1BSSVpFX01PTkVZLFxuICAgIH07XG4gIH1cblxuICBjYWxjUHJvZml0UmF0ZShwcml6ZXMpIHtcbiAgICBjb25zdCB0b3RhbFdpbk1vbmV5ID0gcHJpemVzLnJlZHVjZSgoYWNjLCBjdXIpID0+IGFjYyArIExvdHRvTWFjaGluZS5XSU5fUFJJWkVfTU9ORVlbY3VyXSwgMCk7XG4gICAgcmV0dXJuIHRvdGFsV2luTW9uZXkgLyAodGhpcy4jbG90dG9zLmxlbmd0aCAqIExvdHRvTWFjaGluZS5MT1RUT19DT1NUKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMb3R0b01hY2hpbmU7XG4iLCJpbXBvcnQgTG90dG9NYWNoaW5lIGZyb20gJy4vZG9tYWluL0xvdHRvTWFjaGluZSc7XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXG5sZXQgbG90dG9NYWNoaW5lO1xuY29uc3QgcmVzdWx0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlc3VsdC1idG4nKTtcblxuY29uc3QgcGF5bWVudHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGF5bWVudHMtY29udGFpbmVyJyk7XG5jb25zdCByZW5kZXJMb3R0b0xpc3RUaXRsZSA9IChhbW91bnQpID0+IHtcbiAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIHRpdGxlLmlubmVyVGV4dCA9IGDstJ0gJHthbW91bnR96rCc66W8IOq1rOunpO2WiOyKteuLiOuLpC5gO1xuICBwYXltZW50c0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aXRsZSk7XG59O1xuXG5jb25zdCBsb3R0b3NDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG90dG9zLWNvbnRhaW5lcicpO1xuY29uc3QgcmVuZGVyTG90dG9MaXN0ID0gKGxvdHRvTnVtYmVycykgPT4ge1xuICByZW5kZXJMb3R0b0xpc3RUaXRsZShsb3R0b051bWJlcnMubGVuZ3RoKTtcbiAgbG90dG9OdW1iZXJzLmZvckVhY2goKGxvdHRvTnVtYmVyKSA9PiB7XG4gICAgY29uc3QgbG90dG9FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgbG90dG9OdW1iZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IGxvdHRvVGV4dCA9IGDwn46rICR7bG90dG9OdW1iZXIuam9pbignLCAnKX1gO1xuICAgIGxvdHRvTnVtYmVyRWxlbWVudC5pbm5lclRleHQgPSBsb3R0b1RleHQ7XG4gICAgbG90dG9FbGVtZW50LmFwcGVuZENoaWxkKGxvdHRvTnVtYmVyRWxlbWVudCk7XG4gICAgbG90dG9zQ29udGFpbmVyLmFwcGVuZENoaWxkKGxvdHRvRWxlbWVudCk7XG4gIH0pO1xufTtcblxuY29uc3QgYnV5QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1eS1idG4nKTtcbmNvbnN0IHBheW1lbnRzSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGF5bWVudHMtaW5wdXQnKTtcbmNvbnN0IHdpbm5pbmdMb3R0b0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53aW5uaW5nLWxvdHRvLWNvbnRhaW5lcicpO1xuYnV5QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCBidXlNb25leSA9IHBheW1lbnRzSW5wdXQudmFsdWU7XG4gIC8vIFRPRE86IOycoO2aqOyEsSDqsoDsgqxcbiAgbG90dG9NYWNoaW5lID0gbmV3IExvdHRvTWFjaGluZShidXlNb25leSk7XG4gIGNvbnN0IGxvdHRvTnVtYmVycyA9IGxvdHRvTWFjaGluZS5nZXRMb3R0b051bWJlcnMoKTtcbiAgcmVuZGVyTG90dG9MaXN0KGxvdHRvTnVtYmVycyk7XG4gIGJ1eUJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gIHJlc3VsdEJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICB3aW5uaW5nTG90dG9Db250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbn0pO1xuXG5jb25zdCB3aW5uaW5nTnVtYmVySW5wdXRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2lubmluZy1udW1iZXJzJyk7XG5jb25zdCB3aW5uaW5nTnVtYmVySW5wdXRzID0gd2lubmluZ051bWJlcklucHV0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy53aW5uaW5nLW51bWJlci1pbnB1dCcpO1xuY29uc3QgYm9udXNOdW1iZXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ib251cy1udW1iZXItaW5wdXQnKTtcbmNvbnN0IG1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsJyk7XG5jb25zdCBtb2RhbENsb3NlQnRuID0gbW9kYWwucXVlcnlTZWxlY3RvcignLm1vZGFsLWNsb3NlLWJ0bicpO1xuY29uc3QgcmVzdWx0VGFibGUgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCd0YWJsZScpO1xuY29uc3QgcmVzdWx0VGFibGVCb2R5ID0gbW9kYWwucXVlcnlTZWxlY3RvcigndGJvZHknKTtcblxuLy8gVE9ETzog64Sk7J2067CNIOyImOyglVxuY29uc3Qgc2V0UmVzdWx0ID0gKHsgd2luQ291bnQsIHByb2ZpdFJhdGUgfSkgPT4ge1xuICBjb25zdCB0YWJsZVJvd3MgPSByZXN1bHRUYWJsZUJvZHkucXVlcnlTZWxlY3RvckFsbCgndHInKTtcbiAgLy8gVE9ETzog7JOw66CI6riwIOqzoOy5mOq4sFxuICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgIGNvbnN0IHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICB0ZC5pbm5lclRleHQgPSBgJHt3aW5Db3VudFtpICsgMV196rCcYDtcbiAgICB0YWJsZVJvd3NbaV0uYXBwZW5kQ2hpbGQodGQpO1xuICB9XG4gIGNvbnN0IHJlc3VsdFByb2ZpdFJhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIHJlc3VsdFByb2ZpdFJhdGUuaW5uZXJUZXh0ID0gYOuLueyLoOydmCDstJ0g7IiY7J2166Wg7J2AJHtwcm9maXRSYXRlLnRvRml4ZWQoMil9JSDsnoXri4jri6QuYDtcbiAgcmVzdWx0VGFibGUuYXBwZW5kQ2hpbGQocmVzdWx0UHJvZml0UmF0ZSk7XG59O1xuXG5yZXN1bHRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIHJlc3VsdEJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gIC8vIFRPRE86IOycoO2aqOyEsSDqsoDsgqwgKOuhnOuYkCDri7nssqgsIOuztOuEiOyKpCDrsojtmLgpXG4gIGNvbnN0IHdpbm5pbmdOdW1iZXJzID0gQXJyYXkuZnJvbSh3aW5uaW5nTnVtYmVySW5wdXRzLCAoXykgPT4gK18udmFsdWUpO1xuICBsb3R0b01hY2hpbmUuZ2VuZXJhdGVXaW5uaW5nTG90dG8od2lubmluZ051bWJlcnMpO1xuICAvLyBUT0RPOiDsnKDtmqjshLEg6rKA7IKsICjroZzrmJAg64u57LKoLCDrs7TrhIjsiqQg67KI7Zi4KVxuICBjb25zdCBib251c051bWJlciA9ICtib251c051bWJlcklucHV0LnZhbHVlO1xuICBsb3R0b01hY2hpbmUuc2V0Qm9udXNOdW1iZXIoYm9udXNOdW1iZXIpO1xuICBtb2RhbC5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICBzZXRSZXN1bHQobG90dG9NYWNoaW5lLmNhbGNTdGF0c3RpY3MoKSk7XG59KTtcblxubW9kYWxDbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgbW9kYWwuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xufSk7XG4iXSwibmFtZXMiOlsic2h1ZmZsZSIsImFyciIsInNvcnQiLCJNYXRoIiwicmFuZG9tIiwiZ2VuZXJhdGVPcmRlck51bWJlcnMiLCJlbmROdW1iZXIiLCJBcnJheSIsImZyb20iLCJsZW5ndGgiLCJfIiwiaSIsInBpY2tSYW5kb21OdW1iZXJzIiwic2l6ZSIsIm51bWJlcnMiLCJ0aGlzIiwic2xpY2UiLCJpc1Bvc2l0aXZlSW50ZWdlciIsInZhbHVlIiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwiTG90dG8iLCJpc1ZhbGlkTG90dG9OdW1iZXJzIiwiRXJyb3IiLCJFUlJPUl9JTlZBTElEIiwiaXNEdXBsaWNhdGVOdW1iZXJzIiwiRVJST1JfRFVQTElDQVRFIiwiYSIsImIiLCJudW1iZXIiLCJpc1ZhbGlkTG90dG9OdW1iZXJSYW5nZSIsIlNldCIsImV2ZXJ5IiwiaXNWYWxpZExvdHRvTnVtYmVyIiwiYm9udXNCYWxsIiwiaW5jbHVkZXMiLCJvdGhlciIsImZpbHRlciIsIkxvdHRvUmFuayIsIlBSSVpFIiwiRklSU1QiLCJNQVRDSF9DT1VOVCIsIlJBTksiLCJTRUNPTkQiLCJUSElSRCIsIkZPVVJUSCIsIkZJRlRIIiwiTUlTUyIsImdldFdpblJhbmsiLCJtYXRjaENvdW50IiwiaGFzQm9udXMiLCJmaW5kV2luUmFuayIsIk9iamVjdCIsInZhbHVlcyIsImZpbmQiLCJXaW5uaW5nTG90dG8iLCJsb3R0byIsImJvbnVzTnVtYmVyIiwiaXNEdXBsaWNhdGVCb251cyIsImNvdW50TWF0Y2giLCJMb3R0b01hY2hpbmUiLCJtb25leSIsImdlbmVyYXRlTG90dG9zIiwibG90dG9BbW91bnQiLCJMT1RUT19DT1NUIiwiSU5WQUxJRF9BTU9VTlRfRVJST1IiLCJhbW91bnQiLCJjYWxjTG90dG9BbW91bnQiLCJSYW5kb21HZW5lcmF0b3IiLCJsb3R0b051bWJlcnMiLCJzZXRCb251c051bWJlciIsIm1hcCIsImdldE51bWJlcnMiLCJwcml6ZXMiLCJmb3JFYWNoIiwicHJpemUiLCJnZXRQcml6ZXMiLCJhZGRXaW5Db3VudCIsInByb2ZpdFJhdGUiLCJjYWxjUHJvZml0UmF0ZSIsIndpbkNvdW50Iiwid2luUHJpemVNb25leSIsIldJTl9QUklaRV9NT05FWSIsInJlZHVjZSIsImFjYyIsImN1ciIsImxvdHRvTWFjaGluZSIsInJlc3VsdEJ0biIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInBheW1lbnRzQ29udGFpbmVyIiwibG90dG9zQ29udGFpbmVyIiwiYnV5QnRuIiwicGF5bWVudHNJbnB1dCIsIndpbm5pbmdMb3R0b0NvbnRhaW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJidXlNb25leSIsInRpdGxlIiwiY3JlYXRlRWxlbWVudCIsImlubmVyVGV4dCIsImFwcGVuZENoaWxkIiwibG90dG9OdW1iZXIiLCJsb3R0b0VsZW1lbnQiLCJsb3R0b051bWJlckVsZW1lbnQiLCJsb3R0b1RleHQiLCJqb2luIiwicmVuZGVyTG90dG9MaXN0IiwiZ2V0TG90dG9OdW1iZXJzIiwiZGlzYWJsZWQiLCJzdHlsZSIsInZpc2liaWxpdHkiLCJ3aW5uaW5nTnVtYmVySW5wdXRzIiwicXVlcnlTZWxlY3RvckFsbCIsImJvbnVzTnVtYmVySW5wdXQiLCJtb2RhbCIsIm1vZGFsQ2xvc2VCdG4iLCJyZXN1bHRUYWJsZSIsInJlc3VsdFRhYmxlQm9keSIsIndpbm5pbmdOdW1iZXJzIiwiZ2VuZXJhdGVXaW5uaW5nTG90dG8iLCJ0YWJsZVJvd3MiLCJ0ZCIsInJlc3VsdFByb2ZpdFJhdGUiLCJ0b0ZpeGVkIiwic2V0UmVzdWx0IiwiY2FsY1N0YXRzdGljcyJdLCJzb3VyY2VSb290IjoiIn0=